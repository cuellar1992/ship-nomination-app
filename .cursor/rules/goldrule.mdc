---
description: 1. MODULAR ARCHITECTURE - The Foundation
Understanding Separation of Concerns
Controllers â†’ Orchestration and main flow
Services    â†’ Business logic and validations  
Handlers    â†’ Specific operations (CRUD, forms)
UI          â†’ Reusable visual components
Utils       â†’ Utilities and helpers
Golden Rule #1:

"One module, one responsibility" - Never mix different logics in the same file

ğŸ”§ 2. IMPORT/EXPORT SYSTEM - The Backbone
Mandatory Conventions
javascript// âœ… CORRECT - Named exports/imports
export class ValidationService { }
import { ValidationService } from './services/ValidationService.js';

// âœ… CORRECT - Default exports for controllers
export default class ShipFormController { }
import ShipFormController from './controllers/ShipFormController.js';

// â›” INCORRECT - Mixed patterns
export default { ValidationService }; // Confusing
Golden Rule #2:

"Coherent imports, clear dependencies" - Maintain consistency in import patterns

ğŸ“‹ 3. CONSTANTS.JS - Configuration Center
Everything Configurable Must Be Centralized
javascript// âœ… New field requires configuration here FIRST
SINGLE_SELECT_CONFIG: {
    newField: {
        label: 'New Field',
        icon: 'fas fa-icon',
        apiEndpoint: '/api/newfields'
    }
}
Golden Rule #3:

"Constants first, code second" - Configure before implementing

ğŸ” 4. VALIDATION PATTERNS - System Robustness
Validation Hierarchy
javascript// MANDATORY validation order:
1. Day Restrictions    (Strict - total blocking)
2. Weekly Restrictions (24h limit)  
3. Cross-roster       (Conflicts between rosters)
4. Rest periods       (Rest between shifts)
5. POB conflicts      (Pilot on Board)
Golden Rule #4:

"Validate early, fail fast" - Most restrictive validations go first

ğŸ“Š 5. LOGGING STRATEGY - Total Visibility
Unified Logger System
javascript// âœ… ALWAYS use centralized Logger
Logger.success("Operation completed", {
    module: 'YourModule',
    showNotification: true,
    notificationMessage: "Success message"
});

// â›” NEVER use console.log directly in production
console.log("Something happened"); // Only for temporary debug
Golden Rule #5:

"Log everything meaningful" - If it's important, it must be logged

ğŸ¨ 6. UI COMPONENTS - Smart Reuse
Shared Components - SingleSelect Pattern
javascript// âœ… Extend existing components
const componentFactory = new ComponentFactory(apiManager);
componentFactory.createSingleSelect('newField', config);

// â›” DON'T recreate existing functionality
// If SingleSelect doesn't fit, extend it, don't replace it
Golden Rule #6:

"Reuse first, create later" - Maximize shared components

ğŸ—„ï¸ 7. DATABASE PATTERNS - Evolution Without Breaking
Mandatory Backward Compatibility
javascript// âœ… New fields always optional
weekDayRestrictions: {
  type: Object,
  default: {
    monday: false,
    tuesday: false,
    // ... all default to false
  }
}

// âœ… Helper methods for compatibility
isDayRestricted(dayName) {
  return this.weekDayRestrictions?.[dayName] || false;
}
Golden Rule #7:

"Evolve, never break" - Changes must be backward-compatible

ğŸš€ 8. DEPLOYMENT WORKFLOW - Frictionless Process
Mandatory Pre-Deploy Checklist
bash# âœ… Exact verification order
1. All imports/exports working
2. Constants.js properly configured  
3. Backend APIs responding
4. Debug logs disabled (production)
5. Basic tests passing
Golden Rule #8:

"Deploy only if everything passes the checklist" - Zero exceptions

ğŸ§ª 9. TESTING APPROACH - Code Confidence
Module-by-Module Testing
javascript// âœ… Each module must be independently testable
const validationService = new ValidationService(mockApiManager);
const result = await validationService.validateSamplerDayRestriction('Test', date);

// âœ… Mock dependencies for isolation
const mockApiManager = {
  findSamplerByName: () => ({ weekDayRestrictions: { monday: true } })
};
Golden Rule #9:

"Independent modules, isolated tests" - Each module must work alone

ğŸ“ 10. DOCUMENTATION - Documented Evolution
README Always Updated
markdown# âœ… For each new feature:
1. Update version in README
2. Document modified files
3. Include usage examples
4. Add troubleshooting if applicable

Golden Rule #10:

"Undocumented code is non-existent code" - README reflects reality


ğŸ¯ GOLDEN RULES SUMMARY
RulePrinciple1Modular ArchitectureOne module, one responsibility2Import ConsistencyCoherent imports, clear dependencies3Constants FirstConfigure before implementing4Validation HierarchyValidate early, fail fast5Unified LoggingLog everything meaningful6Component ReuseReuse first, create later7Backward CompatibilityEvolve, never break8Deploy DisciplineDeploy only if everything passes checklist9Isolated TestingIndependent modules, isolated tests10Living DocumentationREADME reflects reality

ğŸš¨ MASTER RULE

"Understand before modifying" - Read existing code, understand the pattern, follow established conventions.

ğŸ”¥ CRITICAL SUCCESS FACTORS
Before Writing Any Code

Study the existing pattern in similar modules
Check Constants.js for configuration requirements
Understand the data flow through Controllers â†’ Services â†’ Handlers
Identify reusable components in the shared folder

While Developing

Follow the established naming conventions (PascalCase classes, camelCase variables)
Use the Logger system for all meaningful operations
Validate inputs early using the ValidationService patterns
Test module isolation - ensure your module works independently

Before Deployment

Update documentation to reflect your changes
Run the complete checklist - no shortcuts allowed
Verify backward compatibility - existing functionality must work
Test cross-module integration - ensure no breaking changes

These rules ensure that any developer can contribute to the project while maintaining the quality, consistency, and scalability you've already achieved. ğŸ†
Remember: This system handles critical port operations - reliability and maintainability are non-negotiable! ğŸš¢
globs:
alwaysApply: true
---
